{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\chris\\\\Desktop\\\\tiendaOnline2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"C:\\\\Users\\\\chris\\\\Desktop\\\\tiendaOnline2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\chris\\\\Desktop\\\\tiendaOnline2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\chris\\\\Desktop\\\\tiendaOnline2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\chris\\\\Desktop\\\\tiendaOnline2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\chris\\\\Desktop\\\\tiendaOnline2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\chris\\\\Desktop\\\\tiendaOnline2\\\\src\\\\components\\\\CarroPagar\\\\index.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Item from './item';\nimport { setProductosToDB } from '../../services/database.js';\nimport { setProductos as _setProductos } from '../../actions';\nimport { Container, Row, Col, Button } from 'reactstrap';\n\nvar CarroPagar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CarroPagar, _React$Component);\n\n  function CarroPagar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CarroPagar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CarroPagar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.pagar = function () {\n      var setProductos = _this.props.setProductos;\n      setProductosToDB(_this.props.productos.map(function (_ref) {\n        var cantidadSolicitada = _ref.cantidadSolicitada,\n            cantidadEvento = _ref.cantidadEvento,\n            item = _objectWithoutProperties(_ref, [\"cantidadSolicitada\", \"cantidadEvento\"]);\n\n        return item;\n      }), setProductos, _this.props.history);\n    };\n\n    return _this;\n  }\n\n  _createClass(CarroPagar, [{\n    key: \"itemsCarro\",\n    value: function itemsCarro(items) {\n      return items.filter(function (item) {\n        return item.cantidadSolicitada > 0;\n      });\n    }\n  }, {\n    key: \"itemsSuma\",\n    value: function itemsSuma(items) {\n      return items.map(function (item) {\n        return item.cantidadSolicitada * item.precio;\n      }).reduce(function (prev, next) {\n        return prev + next;\n      }, 0);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"margenArriba25\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(Container, {\n        className: \"bg-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Carrito de compras\"))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, this.props.productos && this.props.productos.length ? this.itemsCarro(this.props.productos).map(function (producto) {\n        return React.createElement(Item, {\n          producto: producto,\n          key: producto.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        });\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"No hay carrito\")), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Total:\", this.itemsSuma(this.props.productos).toFixed(2)), React.createElement(Button, {\n        onClick: this.pagar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Pagar\")))));\n    }\n  }]);\n\n  return CarroPagar;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    productos: state.productos\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setProductos: function setProductos(payload) {\n      dispatch(_setProductos(payload));\n    }\n  };\n}\n\nvar CarroPagarConnected = connect(mapStateToProps, mapDispatchToProps)(CarroPagar);\nexport default withRouter(CarroPagarConnected);","map":{"version":3,"sources":["C:\\Users\\chris\\Desktop\\tiendaOnline2\\src\\components\\CarroPagar\\index.js"],"names":["React","connect","withRouter","Item","setProductosToDB","setProductos","Container","Row","Col","Button","CarroPagar","pagar","props","productos","map","cantidadSolicitada","cantidadEvento","item","history","items","filter","precio","reduce","prev","next","length","itemsCarro","producto","id","itemsSuma","toFixed","Component","mapStateToProps","state","mapDispatchToProps","dispatch","payload","CarroPagarConnected"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom';\r\nimport Item from './item'\r\nimport {setProductosToDB } from '../../services/database.js'\r\nimport  {setProductos} from '../../actions'\r\nimport {Container,Row, Col , Button} from 'reactstrap'\r\n\r\nclass CarroPagar extends React.Component{\r\n\r\n  itemsCarro (items){\r\n     return items.filter(item => item.cantidadSolicitada>0)\r\n  }\r\n\r\n  itemsSuma(items){\r\n    return items.map ( item=> item.cantidadSolicitada *  item.precio ).reduce ((prev, next)=> prev+ next,0);\r\n  }\r\n\r\n  pagar =()=>{\r\n    const {setProductos } = this.props\r\n    setProductosToDB (this.props.productos.map (({cantidadSolicitada, cantidadEvento, ...item})=> item ), setProductos, this.props.history);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n        <div className= \"margenArriba25\">\r\n          <Container className='bg-light'>\r\n            <Row>\r\n              <Col><h1>Carrito de compras</h1></Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                {\r\n                  this.props.productos && this.props.productos.length ?\r\n                    this.itemsCarro(this.props.productos).map (producto=>\r\n                      <Item producto = {producto} key = {producto.id}></Item>\r\n                    )\r\n                    :<div>No hay carrito</div>\r\n                }\r\n              </Col>\r\n              <Col>\r\n                <h1>Total:\r\n                {\r\n                  this.itemsSuma (this.props.productos).toFixed(2)\r\n                }\r\n                </h1>\r\n                <Button onClick ={this.pagar } >Pagar</Button>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nfunction mapStateToProps (state){\r\n  return {\r\n    productos:state.productos\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  return {\r\n    setProductos: (payload) =>{\r\n      dispatch (setProductos(payload))\r\n    }\r\n  }\r\n}\r\n\r\nconst CarroPagarConnected= connect ( mapStateToProps , mapDispatchToProps) (CarroPagar)\r\n\r\nexport default withRouter( CarroPagarConnected )  ;\r\n"]},"metadata":{},"sourceType":"module"}